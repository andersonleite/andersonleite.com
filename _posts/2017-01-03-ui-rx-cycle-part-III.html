---
layout: post
title: UI development with RxJs and Cycle UI with RxJS and Cycle.js (part 3)
tags:
- rxjs
- cycle
- ui
status: publish
type: post
published: true
---

<strong>UI development with RxJs and Cycle.js (part 3)</strong>
<br /><br />

This is the 3rd part of a blog post series about RxJS and Cycle.js.
<a href="/2017/01/03/ui-rx-cycle-part-I.html">Understanding RxJS (part 1)</a>
and
<a href="/2017/01/03/ui-rx-cycle-part-II.html">Meet Cycle.js (part 2)</a>
<br /><br />

<b>The overall idea</b>
<br /><br />

In the first post of this series, we saw how to interact with RxJS to observe events,
consume data from the API and subscribe the results.
<br /><br />

In the second post, we explored Cycle.js to have an idea of what the framework is.
<br /><br />

Now we will merge these ideas to create our UI and try to put that in an organized way.
We will use a pattern called MVI, that stands for <span>Model-View-Intent</span>.
Let's dive on each part now.
<br /><br />

<center><img width="400px" src="http://hannesdorfmann.com/images/mvi/mvi-func2.png"></center>
<br /><br />

Using Cycle.js, the first thing we're going to do is to set up our basic main function and the DOM driver.
For the <span>intent</span> we'll receive all the streams generated by Observables in our UI, those ones who are
created by click in our case.
<br /><br />

Then, we'll define all the expected logic/behavior that streams will handle. We are going to
define all of it on the <span>Model</span> as you can see below.
<br /><br />

The third part will be defining the <span>view</span>. We will use the code provided
from Cycle.js to build our DOM.
<br /><br />

<br /><br />
{% gist 9f568e87f387c60557c09cf6a60775d1 %}

Now, let's see the implementation for each one of the MVI parts.
<br /><br />

<b>The Intent</b>
<br /><br />

As we explored before, the intent will handle the creation of the Observables, returning the streams.
Here we define which UI elements are expected to have interaction and also the type of interactions.
<br /><br />

{% gist b8f50df019605c425c0b7a3e65f4147e %}

<b>The Model</b>
<br /><br />

Here we'll interact will the streams, defining how they play together. In our case,
it's basically interactions with the API after click events.
These operations are expected to update UI values.
<br /><br />

{% gist 012b7a213f183f44067bcc1c91d1f040 %}

<b>The View</b>
<br /><br />

Following the Cycle.js suggestion to create views, we use the internal hyperscript functions
and build the DOM tree. Looks weird to use this approach in the beginning, but it's pretty
simple once you get used to.
<br /><br />

<br /><br />
{% gist 12b5a872482531361fc0896735ae7c1c %}
<br /><br />

<b>The aftermath</b>
<br /><br />

The full JS code and the UI can be visited clicking on the image below.
Hope you liked this exploration, and get inspired to learn more about RxJS and Cycle.js.
<br /><br />

<center><a href="https://hidden-waters-53375.herokuapp.com"><img width="300px" src="/images/brewdog.png"></a></center>
<br /><br />


PS: All the content of these 3 blog post series is an adaptation of all the material created by Andre Staltz.
I strongly recommend you to watch <a href="https://egghead.io/courses/cycle-js-fundamentals">Cycle.js course on egghead.io</a> and
read his <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754">introduction to Reactive Programming you've been missing</a>
for a deeper understanding.
<br /><br />

<a href="/2017/01/03/ui-rx-cycle-part-IV.html">Bonus: Refactoring Cycle.js (part 4)</a>
<br /><br />
