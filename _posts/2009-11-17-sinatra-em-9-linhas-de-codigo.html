--- 
layout: post
title: "Sinatra em 9 linhas de c\xC3\xB3digo"
tags: 
- rails
status: publish
type: post
published: true
meta: 
  _edit_last: "597486"
---
Serviços como o <a href="http://tinyurl.com/">TinyURL</a> tem se proliferado na web, principalmente por causa do Twitter que limita as menssagens em 140 caracteres. 

A aplicação que será descrita agora não tem o objetivo de ser como o TinyURL e sim utilizar essa idéia diretamente na URL, algo como:

<code>http://johntopley.com/post/#{params[:token]}</code>

<strong>Sinatra</strong> é um framework ruby para desenvolvimento de aplicações web. Na verdade ele é um micro-framework  interessante quando Rails é algo muito grande para sua necessidade (o que não quer dizer que não seja podereso).
Uma de suas vantagens, é que o fato de ser extremamente leve facilita um número alto de requests por segundo.


Outro aspecto positivo é que o Sinatra suporta o <strong><a href="http://rack.rubyforge.org/">Rack</a></strong>. Ná prática isso quer dizer que qualquer
servidor que suporte Rack pode rodar seu projeto, além de te dar a possibilidade de ter sua aplicação dividida em pequenas outras, por exemplo uma parte Sinatra e outra Rails.



<blockquote>A parte Rails</blockquote>
A parte Rails da aplicação contém um model chamado Post, que contém a conversão basa <a href="http://en.wikipedia.org/wiki/Base_36">Base 36</a>

<a href="http://andersonleiteblog.files.wordpress.com/2009/11/picture-15.png"><img src="http://andersonleiteblog.files.wordpress.com/2009/11/picture-15.png" alt="" title="Picture 1" width="373" height="194" class="aligncenter size-full wp-image-400" /></a>


<blockquote>Sinatra App</blockquote>

O Sinatra não padroniza uma estrutura de diretórios então é possível estruturá-la como quiser.
Sinatra não é um framework MVC

<a href="http://andersonleiteblog.files.wordpress.com/2009/11/picture-24.png"><img src="http://andersonleiteblog.files.wordpress.com/2009/11/picture-24.png" alt="" title="Picture 2" width="480" height="160" class="aligncenter size-full wp-image-401" /></a>

Sinatra fornece uma DSL para criação de aplicações web. No código acima existem
dois blocos manipuladores esperando por metodos HTTP GET. O primeiro redireciona
para o site <b>jtblog.me</b>. O segundo interpola um token para ser passado para a aplicaço Rails.


Sete linhas de código até aqui, as duas linhas restantes são referentes ao arquivo <b>config.ru</b>
e são utilizadas para subir a aplicação:

<a href="http://andersonleiteblog.files.wordpress.com/2009/11/picture-34.png"><img src="http://andersonleiteblog.files.wordpress.com/2009/11/picture-34.png" alt="" title="Picture 3" width="293" height="67" class="aligncenter size-full wp-image-402" /></a>


Esse post é uma tradução curta do <a href="http://ow.ly/D0hI">John Topley - Write A Web App In Nine Lines Of Code With Sinatra</a>
O site pode ser visto em :<strong>jtblog.me</strong>
   
